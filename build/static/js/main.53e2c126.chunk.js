/*! For license information please see main.53e2c126.chunk.js.LICENSE.txt */
(this["webpackJsonpblockly-react-sample"]=this["webpackJsonpblockly-react-sample"]||[]).push([[0],{133:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n(4),o=n.n(r),i=n(13),a=n.n(i),l=(n(64),n(65),n(14)),s=n(58),u=(n(66),n(5)),d=n.n(u),j=n(39),b=n.n(j),h=n(54),f=n.n(h);n(69);d.a.setLocale(f.a);var p=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),i=Object(r.useRef)();return Object(r.useEffect)((function(){var c=e.initialXml,r=(e.children,Object(l.a)(e,["initialXml","children"]));i.current=d.a.inject(t.current,Object(s.a)({toolbox:n.current},r)),c&&d.a.Xml.domToWorkspace(d.a.Xml.textToDom(c),i.current)}),[i,n,t,e]),Object(c.jsxs)(o.a.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){var e=b.a.workspaceToCode(i.current);console.log(e)},children:"Convert"}),Object(c.jsx)("div",{ref:t,id:"blocklyDiv"}),Object(c.jsx)("div",{style:{display:"none"},ref:n,children:e.children})]})};var v=function(e){return Object(c.jsxs)(p,{readOnly:!1,trashcan:!0,media:"media/",move:{scrollbars:!0,drag:!0,wheel:!0},initialXml:'\n<xml xmlns="http://www.w3.org/1999/xhtml">\n<block type="controls_ifelse" x="0" y="0"></block>\n</xml>\n      ',children:[Object(c.jsx)(m,{type:"test_react_field"}),Object(c.jsx)(m,{type:"test_react_date_field"}),Object(c.jsx)(m,{type:"controls_ifelse"}),Object(c.jsx)(m,{type:"logic_compare"}),Object(c.jsx)(m,{type:"logic_operation"}),Object(c.jsx)(m,{type:"controls_repeat_ext",children:Object(c.jsx)(O,{name:"TIMES",children:Object(c.jsx)(y,{type:"math_number",children:Object(c.jsx)(_,{name:"NUM",children:"10"})})})}),Object(c.jsx)(m,{type:"logic_operation"}),Object(c.jsx)(m,{type:"logic_negate"}),Object(c.jsx)(m,{type:"logic_boolean"}),Object(c.jsx)(m,{type:"logic_null",disabled:"true"}),Object(c.jsx)(m,{type:"logic_ternary"}),Object(c.jsx)(m,{type:"text_charAt",children:Object(c.jsx)(O,{name:"VALUE",children:Object(c.jsx)(m,{type:"variables_get",children:Object(c.jsx)(_,{name:"VAR",children:"text"})})})})]})},m=function(e){var t=e.children,n=Object(l.a)(e,["children"]);return n.is="blockly",o.a.createElement("block",n,t)},O=function(e){var t=e.children,n=Object(l.a)(e,["children"]);return n.is="blockly",o.a.createElement("value",n,t)},_=function(e){var t=e.children,n=Object(l.a)(e,["children"]);return n.is="blockly",o.a.createElement("field",n,t)},y=function(e){var t=e.children,n=Object(l.a)(e,["children"]);return n.is="blockly",o.a.createElement("shadow",n,t)},x=n(23),g=n(24),k=n(26),w=n(25),D=function(e){Object(k.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(x.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).SERIALIZABLE=!0,e}return Object(g.a)(n,[{key:"showEditor_",value:function(){this.div_=u.DropDownDiv.getContentDiv(),a.a.render(this.render(),this.div_);var e=this.sourceBlock_.style.colourTertiary;e=e.colourBorder||e.colourLight,u.DropDownDiv.setColour(this.sourceBlock_.getColour(),e),u.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this))}},{key:"dropdownDispose_",value:function(){a.a.unmountComponentAtNode(this.div_)}},{key:"render",value:function(){return Object(c.jsx)(E,{})}}],[{key:"fromJson",value:function(e){return new n(e.text)}}]),n}(u.Field),E=function(e){Object(k.a)(n,e);var t=Object(w.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{style:{color:"#fff"},children:"Hello from React!"})}}]),n}(o.a.Component);u.fieldRegistry.register("field_react_component",D);var S=D,A=n(27),C=n(55),B=n.n(C),T=(n(71),function(e){Object(k.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(x.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onDateSelected_=function(t){e.setValue(new Date(t)),u.DropDownDiv.hideIfOwner(Object(A.a)(e),!0)},e}return Object(g.a)(n,[{key:"getText_",value:function(){return this.value_.toLocaleDateString()}},{key:"fromXml",value:function(e){this.setValue(new Date(e.textContent))}},{key:"render",value:function(){return Object(c.jsx)(B.a,{selected:this.value_,onChange:this.onDateSelected_,inline:!0})}}],[{key:"fromJson",value:function(e){return new n(new Date(e.date))}}]),n}(S));u.fieldRegistry.register("field_react_date",T);n(132);var I={type:"test_react_date_field",message0:"date field: %1",args0:[{type:"field_date",name:"DATE",date:"2020-02-20"}],previousStatement:null,nextStatement:null};u.Blocks.test_react_date_field={init:function(){this.jsonInit(I),this.setStyle("loop_blocks")}};var R={type:"test_react_field",message0:"custom field %1",args0:[{type:"field_react_component",name:"FIELD",text:"Click me"}],previousStatement:null,nextStatement:null};u.Blocks.test_react_field={init:function(){this.jsonInit(R),this.setStyle("loop_blocks")}},u.JavaScript.test_react_field=function(e){return"console.log('custom block');\n"},u.JavaScript.test_react_date_field=function(e){return"console.log("+e.getField("DATE").getText()+");\n"};var L=function(e){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{className:"Sidebar"}),Object(c.jsx)("div",{className:"Workspace",children:Object(c.jsx)(v,{})}),Object(c.jsx)("div",{className:"Menu"})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(c.jsx)(L,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){}},[[133,1,2]]]);
//# sourceMappingURL=main.53e2c126.chunk.js.map